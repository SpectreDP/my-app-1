{"version":3,"file":"static/js/952.47d01a0c.chunk.js","mappings":"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","sources":["webpack://my-app-1/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","webpack://my-app-1/./src/components/Profile/MyPosts/MyPosts.module.css?831b","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.module.css","webpack://my-app-1/./src/components/Profile/Profileinfo/Profileinfo.module.css?e2a6","components/Profile/Profileinfo/ProfileStatusWithHooks.jsx","components/Profile/Profileinfo/Profileinfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__VYRIM\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrV5FwfY_rhAJ68NuJdR3Fy_smBGmMYup8Mw&usqp=CAU' />\r\n      {props.message}\r\n      <div>\r\n      <span>{props.likesCount}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"MyPosts_posts__zs7-i\",\"postItem\":\"MyPosts_postItem__kMJcw\"};","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './MyPosts.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo(props => {\r\n  console.log('React memo')\r\n  let postsElements =\r\n    props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />).reverse();\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  }\r\n\r\n  return (\r\n    <div className={s.posts}>\r\n      <h3>My posts</h3>\r\n      <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      <div className={s.postItem}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Textarea} name='newPostText' placeholder='Enter your message'\r\n          validate={[required, maxLength10]} />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"first_image\":\"Profileinfo_first_image__Fi+GG\",\"mainPhoto\":\"Profileinfo_mainPhoto__61ouk\",\"about_me\":\"Profileinfo_about_me__PQQrR\",\"decription\":\"Profileinfo_decription__CEltN\",\"status\":\"Profileinfo_status__rCu2j\"};","import React, { useEffect, useState } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './Profileinfo.module.css'\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    // const activateEditMode = () => {\r\n    //     setEditMode(true);\r\n    // }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.status}>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={() => setEditMode(true)}>{props.status || '-----'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                        value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './Profileinfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\nimport userPhoto from '../../../assets/images/user.png'\r\n\r\nconst Profileinfo = ({ profile, status, updateStatus, isOwner, savePhoto }) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    debugger\r\n   if (e.target.files[0]) {\r\n    savePhoto(e.target.files[0]);\r\n  }\r\n}\r\n  return (\r\n    <div className={s.content}>\r\n      <div>\r\n        <img className={s.first_image} src='https://rich-tour.com/uploads/default/kcfinder/images/Italy%20Village%20%26%20Beach%20Resort/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA1.jpg' />\r\n      </div>\r\n      <div>\r\n        <img className={s.mainPhoto} src={profile.photos.large || userPhoto} />\r\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n        <div className={s.about_me}>\r\n          <div>Имя:&nbsp;&nbsp;\r\n            <span className={s.decription}>{profile.fullName}</span>\r\n          </div>\r\n          <div>Обо мне: {profile.aboutMe}</div>\r\n          <div>Ищу работу: {profile.lookingForAJobDescription}</div>\r\n          <div>Контакты: {profile.contacts.facebook}</div>\r\n        </div>\r\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profileinfo;","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport s from './Profile.module.css'\r\nimport Profileinfo from './Profileinfo/Profileinfo';\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <Profileinfo savePhoto={props.savePhoto}\r\n        isOwner={props.isOwner}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto } from \"../../../src/redux/profile-reducer\";\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\n\r\nfunction withRouter(Component) {\r\n  function ComponentWithRouterProp(props) {\r\n    let location = useLocation();\r\n    let navigate = useNavigate();\r\n    let params = useParams();\r\n    return (\r\n      <Component {...props} router={{ location, navigate, params }} />\r\n    );\r\n  }\r\n  return ComponentWithRouterProp;\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.router.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      // if (!userId) {\r\n      //   this.props.history.push('/login');\r\n      // }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {  \r\n    if (this.props.router.params.userId != prevProps.router.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props}\r\n          isOwner={!this.props.router.params.userId}\r\n          profile={this.props.profile}\r\n          status={this.props.status}\r\n          updateStatus={this.props.updateStatus}\r\n          saveStatus={this.props.savePhoto} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n  withRouter,\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to={'/login'} />;\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n \r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}\r\n"],"names":["props","className","s","src","message","likesCount","maxLength10","maxLengthCreator","MyPosts","React","console","log","postsElements","posts","map","p","id","reverse","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","connect","state","profilePage","dispatch","addPostActionCreator","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","profile","isOwner","savePhoto","Preloader","photos","large","userPhoto","type","target","files","fullName","aboutMe","lookingForAJobDescription","contacts","facebook","ProfileContainer","userId","this","router","params","authorizedUserId","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","saveStatus","compose","withAuthRedirect","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams","mapStateToPropsRedirect","RedirectComponent","to"],"sourceRoot":""}